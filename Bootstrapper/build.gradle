def getVersion() {
    //Major.Minor.Buildnumber.Buildtype
    def major = 1
    def minor = 0
    def buildNumber = System.getenv('BUILD_NUMBER') //Generated by Jenkins
    def buildType = System.getenv('BUILD_TYPE') //Generated by Jenkins
    def formedVer = major + '.' + minor + '.' + buildNumber + '-' + buildType
    println 'Building Version: ' + formedVer
    return formedVer
}

archivesBaseName = 'TCBootstrapper'
version = getVersion()
dependencies {
	
}

jar {
	manifest {
    	attributes("Implementation-Version": project.version)
        attributes("Main-Class": "tk.tfsthiago1112.Tecnocraft.Launcher.bootstrapper.Bootstrap")
    }
}
uploadArchives {
    repositories {
        mavenDeployer {
        	pom {
                groupId = project.group
                version = project.version
                artifactId = project.archivesBaseName
            }
            pom.project {
                name project.archivesBaseName
                packaging 'jar'
                description 'Tecnocraft Launcher'
                url 'http://tfsthiago1112.tk/projects/tecnocraft/launcher.html'

                licenses {
                    license {
                        name 'Eclipse Public Licence'
                        url ''
                    }
                }

                developers {
                    developer {
                        id 'TFSThiago1112'
                        name 'TFSThiago1112'
                        roles { role 'coredeveloper' }
                    }
                }
            }
        }
    }
}